---
title: 'PH251W Group 6 Milestone #2'
output: pdf_document
date: "2025-09-27"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



Description of dataset:

What is the data source? (1-2 sentences on where the data is coming from, dates included, etc.)
How does the dataset relate to the group problem statement and question?

sim_novelid_LACounty.csv: 

1. The Los Angeles County dataset is a  file that includes weekly data on new and cumulative cases, severity, and recovery for 2023. It is broken down by age, race/ethnicity, and sex.

2. This dataset attempts to fill in the gap for Los Angeles County, which was not included in the statewide file. It lets us look at whether certain groups in Los Angeles are more affected and helps guide decisions on how resources should be allocated for prevention and treatment.

sim_novelid_CA.csv:

1. The sim_novelid_CA dataset contains aggregated surveillance summary data reported weekly from 5/29/2023 until 12/25/2023 for the novel infectious disease in California. It includes data about disease incidence, disease severity, recovery status, demographic information (age, sex, race/ethnicity) and geographic data (county) that helps to identify when, where, and among which subsets of the population cases are occurring. 

2. The dataset provides information that, in combination with the other datasets, could provide insight  on the course of the outbreak, whether it is disproportionately affecting subsets of the population (demographic or geographic populations), and the populations/counties that would most benefit from resources being allocated. 

ca_pop_2023.csv:

1. This population dataset estimates data by demographic category and county for 2023.

2. The dataset is will be used for county comparisons to normalize for populations to avoid misleading conclusions. We will also use this daya set to help identify demographics that are disproportionately affected.  

Import statements for all datasets:

Document the import process

```{r}
# load packages
library(readr)
library(dplyr)
library(tidyverse)


# 1) california population 
ca_pop <- read_csv("ca_pop_2023.csv", show_col_types = FALSE)

# 2) statewide dataset
ca_state <- read_csv(
  "sim_novelid_CA.csv",
  na = c("", "NA", "na"),
  show_col_types = FALSE
)

# 3) los angeles county dataset
la_county <- read_csv(
  "sim_novelid_LACounty.csv",
  na = c("", "NA", "na"),
  show_col_types = FALSE
)
```


Use appropriate import function and package based on the type of file
Utilize function arguments to control relevant components (i.e. change column types, column names, missing values, etc.)

```{r}
#la county has column DT_REPORT that doesn't have any meaningful data (ONLY NA)

la_county <- la_county %>% 
  select(-DT_REPORT)

#ca_pop has race7 column name so I changed it to race
ca_pop<-ca_pop %>% rename(race=race7)

#ca_state has category race_ethnicity as numeric, but codes should be categorical
ca_state <- ca_state %>%
  mutate(race_ethnicity =
           as.factor(race_ethnicity))


```


Clean up column names (recommend using snake case, which is lower case text with underscores between words)

```{r}

#Changed la county data columns to lower case
names(la_county) <- tolower(names(la_county))

#ca_pop has race7 column name so I changed it to race in code chunk above.

#The data columns in ca_state data are already in snake case
```

Identify data types for 5+ data elements/columns/variables:

Identify 5+ data elements required for your specified scenario. 
If <5 elements are required to complete the analysis, please choose additional variables of interest in the data set to explore in this milestone.

1. dt_dx

2. age_category (Age Group) 

3. sex (Sex of Case) – 

4. race_eth or race_ethnicity 

5. county

6. dx_new or new_infections

7. infected_cumulative or cumulative_infected

8. unrecovered_new or new_unrecovered

9. severe_new or new_severe

10. pop
#I listed 10 just to see if these would be good. Please feel free to edit.

Utilize functions or resources in RStudio to determine the types of each data element (i.e. character, numeric, factor)

```{r}
str(la_county)
str(ca_pop)
str(ca_state)

```



```{r}
library(dplyr)
glimpse(la_county)
glimpse(ca_pop)
glimpse(ca_state)
```

```{r}
library(dplyr)
glimpse(la_county)
glimpse(ca_pop)

```

```{r}
library(dplyr)
glimpse(la_county)
glimpse(ca_pop)
#I used this function too to see what it would give us
```



Identify the desired type/format for each variable—will you need to convert any columns to numeric or another type? 


Provide a basic description of the 5+ data elements:

dt_dx – Date – The calendar date when a case was diagnosed.

age_category – Categorical (string/factor) – Groups cases into age ranges.

sex – Categorical (string/factor) – Identifies the sex of individuals.

race_eth or race_ethnicity  – Categorical (string/factor) – Indicates the racial/ethnic group of the case.

county – Categorical (string/factor) – Identifies the county of residence 

dx_new or new_infections – Numeric (integer) – Number of newly reported infections in a given week.

infected_cumulative or cumulative_infected – Numeric (integer) – Running total of infections to date.

unrecovered_new or new_unrecovered – Numeric (integer) – Number of newly added cases that have not yet recovered.

severe_new or new_severe – Numeric (integer) – Number of cases classified as severe in a given week.

pop – Numeric (integer) – Population denominator by demographic group, from the 2023 estimates dataset.


Numeric: mean, median, range
Character: unique values/categories
Or any other descriptives that will be useful to the analysis
Describe cleaning that each data source may need:

#Feel free to change or delete what you want. I probably missed some. 

ca_pop cleaning:
1) Column names - race7 needed changed to race (see above)
2) Standardize categorical variables - age_cat will need to be changed to an ordered factor so the age groups are in order. 
3) Check for missing values (NA)

ca_state cleaning: 
1) Coded variables need to be converted to categorical factors (and relabeled)
2) Standardize categorical variables such as "MALE" and "FEMALE" to be more consistent and uniform ("Male", "Female", or all lowercase)
3) Check for missing values (NA) 
4) Check for and address duplicates if they exist

la_county cleaning:
1) Remove unnecessary columns - DT_REPORT did not meaningful data (see above)
2) Fix date variable - dt_dx is a character column that will need to be changed to a Date. 
3) Standardize categorical variables - age_category could be converted to an ordered factor, "MALE" and "Female" to be more consistent and uniform ("Male", "Female", or all lowercase)

```{r}


```

